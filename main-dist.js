"use strict";let inputEnteredSymbols=document.querySelector(".areaSymbols"),areaButtons=document.querySelector(".areaButtons"),result=document.querySelector(".result");function calcMathExpression(e){if(e)try{let n=math.evaluate(e);t=n,result.innerHTML=t,inputEnteredSymbols.focus()}catch{inputEnteredSymbols.focus(),setTimeout(()=>{result.innerHTML="",inputEnteredSymbols.focus()},1500)}var t}function getEnteredValue(e){calcMathExpression(e.target.value)}inputEnteredSymbols.focus(),inputEnteredSymbols.addEventListener("keydown",(function(e){"Enter"===e.key&&calcMathExpression(inputEnteredSymbols.value)})),inputEnteredSymbols.addEventListener("change",(function(e){getEnteredValue(e)})),areaButtons.addEventListener("click",(function(e){let t=e.target;if(t!==t.closest(".symbolInner")){if(t.matches(".calcResult")&&calcMathExpression(inputEnteredSymbols.value),t.matches(".resetValue")&&(inputEnteredSymbols.value="",result.innerHTML="",inputEnteredSymbols.focus()),t.matches(".deleteSymbol")||t.closest(".deleteSymbol")){let e=inputEnteredSymbols.value;inputEnteredSymbols.value=inputEnteredSymbols.value.substring(0,e.length-1),result.innerHTML="",inputEnteredSymbols.focus()}if(t.matches(".brackets")){let e=inputEnteredSymbols.value,t=0,n=0;for(let u of e)40===u.codePointAt(0)&&t++,41===u.codePointAt(0)&&n++;t>n?(inputEnteredSymbols.value=e+String.fromCodePoint(41),inputEnteredSymbols.focus()):inputEnteredSymbols.value=e+String.fromCodePoint(40),inputEnteredSymbols.focus()}return}let n=t.innerHTML,u=inputEnteredSymbols.value+n;inputEnteredSymbols.value=u,inputEnteredSymbols.focus()}));